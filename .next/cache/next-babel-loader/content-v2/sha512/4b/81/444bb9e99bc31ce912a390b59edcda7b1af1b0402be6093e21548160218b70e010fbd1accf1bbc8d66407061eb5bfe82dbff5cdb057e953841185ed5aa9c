{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"D:\\\\IT\\\\moje_projekty\\\\to-do_list\\\\pages\\\\[taskId]\\\\index.js\";\nimport TaskDetails from '../../components/task/TaskDetails';\nimport { MongoClient, ObjectId } from 'mongodb';\nimport { useRouter } from 'next/router';\n\nconst TaskDetail = props => {\n  const router = useRouter();\n\n  async function updatedTaskHandler(enteredTaskData) {\n    const response = await fetch('/api/new-task', {\n      method: 'PUT',\n      body: JSON.stringify(enteredTaskData),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    const data = await response.json();\n    console.log(data);\n    router.push('/');\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"container-details\",\n    children: /*#__PURE__*/_jsxDEV(TaskDetails, {\n      title: props.taskData.title,\n      priority: props.taskData.priority,\n      start_date: props.taskData.start_date,\n      complete: props.taskData.complete,\n      description: props.taskData.description,\n      updatedTaskHandler: updatedTaskHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 9\n  }, this);\n};\n\nexport async function getStaticPaths() {\n  const client = await MongoClient.connect('mongodb+srv://motylek:marta1999@cluster0.3tna7.mongodb.net/tasks?retryWrites=true&w=majority');\n  const db = client.db();\n  const tasksCollection = db.collection('tasks');\n  const tasks = await tasksCollection.find({}, {\n    _id: 1\n  }).toArray();\n  client.close();\n  return {\n    fallback: 'blocking',\n    paths: tasks.map(task => ({\n      params: {\n        taskId: task._id.toString()\n      }\n    }))\n  };\n}\nexport async function getStaticProps(context) {\n  const taskId = context.params.taskId;\n  const client = await MongoClient.connect('mongodb+srv://motylek:marta1999@cluster0.3tna7.mongodb.net/tasks?retryWrites=true&w=majority');\n  const db = client.db();\n  const tasksCollection = db.collection('tasks');\n  const selectedTask = await tasksCollection.findOne({\n    _id: ObjectId(taskId)\n  });\n  client.close();\n  return {\n    props: {\n      taskData: {\n        id: selectedTask._id.toString(),\n        title: selectedTask.title,\n        priority: selectedTask.priority,\n        start_date: selectedTask.start_date || null,\n        complete: selectedTask.complete || null,\n        description: selectedTask.description\n      }\n    }\n  };\n}\nexport default TaskDetail;","map":{"version":3,"sources":["D:/IT/moje_projekty/to-do_list/pages/[taskId]/index.js"],"names":["TaskDetails","MongoClient","ObjectId","useRouter","TaskDetail","props","router","updatedTaskHandler","enteredTaskData","response","fetch","method","body","JSON","stringify","headers","data","json","console","log","push","taskData","title","priority","start_date","complete","description","getStaticPaths","client","connect","db","tasksCollection","collection","tasks","find","_id","toArray","close","fallback","paths","map","task","params","taskId","toString","getStaticProps","context","selectedTask","findOne","id"],"mappings":"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","sourcesContent":["import TaskDetails from '../../components/task/TaskDetails';\r\nimport { MongoClient, ObjectId } from 'mongodb';\r\nimport { useRouter } from 'next/router';\r\n\r\nconst TaskDetail = (props) => {\r\n\r\n    const router = useRouter();\r\n\r\n    async function updatedTaskHandler(enteredTaskData) {\r\n       const response = await fetch('/api/new-task', {\r\n            method: 'PUT',\r\n            body: JSON.stringify(enteredTaskData),\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        });\r\n\r\n        const data = await response.json();\r\n        console.log(data);\r\n    \r\n        router.push('/')\r\n    }\r\n\r\n    return(\r\n        <section className='container-details'>\r\n            <TaskDetails\r\n            title={props.taskData.title}\r\n            priority={props.taskData.priority}\r\n            start_date={props.taskData.start_date}\r\n            complete={props.taskData.complete}\r\n            description={props.taskData.description}\r\n            updatedTaskHandler={updatedTaskHandler}\r\n        />\r\n        </section>\r\n        \r\n    );\r\n}\r\n\r\n\r\nexport async function getStaticPaths(){\r\n    const client = await MongoClient.connect('mongodb+srv://motylek:marta1999@cluster0.3tna7.mongodb.net/tasks?retryWrites=true&w=majority');\r\n    const db = client.db();\r\n\r\n    const tasksCollection = db.collection('tasks');\r\n    const tasks = await tasksCollection.find({}, {_id: 1}).toArray();\r\n\r\n    client.close();\r\n\r\n\r\n    return{\r\n        fallback: 'blocking',\r\n        paths: tasks.map((task) => ({\r\n            params: {\r\n                taskId: task._id.toString()\r\n            },\r\n        }))\r\n    \r\n    };\r\n}\r\n\r\n\r\nexport async function getStaticProps(context) {\r\n\r\n    const taskId = context.params.taskId;\r\n\r\n\r\n    const client = await MongoClient.connect('mongodb+srv://motylek:marta1999@cluster0.3tna7.mongodb.net/tasks?retryWrites=true&w=majority');\r\n    const db = client.db();\r\n\r\n    const tasksCollection = db.collection('tasks');\r\n    const selectedTask = await tasksCollection.findOne({_id: ObjectId(taskId),});\r\n\r\n    client.close();\r\n\r\n\r\n    return {\r\n        props: {\r\n            taskData: {\r\n                id: selectedTask._id.toString(),\r\n                title: selectedTask.title,\r\n                priority: selectedTask.priority,\r\n                start_date: selectedTask.start_date || null,\r\n                complete: selectedTask.complete || null,\r\n                description: selectedTask.description,\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default TaskDetail;"]},"metadata":{},"sourceType":"module"}
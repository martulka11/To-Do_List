{"ast":null,"code":"import _regeneratorRuntime from \"D:/IT/moje_projekty/to-do_list/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"D:/IT/moje_projekty/to-do_list/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nexport function getStaticProps(_x) {\n  return _getStaticProps.apply(this, arguments);\n}\n\nfunction _getStaticProps() {\n  _getStaticProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(findTasks) {\n    var client, db, taskCollection, tasks;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return MongoClient.connect('mongodb+srv://motylek:marta1999@cluster0.3tna7.mongodb.net/tasks?retryWrites=true&w=majority');\n\n          case 2:\n            client = _context.sent;\n            db = client.db();\n            taskCollection = db.collection('tasks');\n            _context.next = 7;\n            return taskCollection.find(findTasks).toArray();\n\n          case 7:\n            tasks = _context.sent;\n            client.close();\n            return _context.abrupt(\"return\", {\n              props: {\n                tasks: tasks.map(function (task) {\n                  return {\n                    title: task.title,\n                    priority: task.priority,\n                    start_date: task.start_date || null,\n                    complete: task.complete || null,\n                    id: task._id.toString()\n                  };\n                })\n              },\n              revalidate: 1\n            });\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _getStaticProps.apply(this, arguments);\n}","map":{"version":3,"sources":["D:/IT/moje_projekty/to-do_list/components/Database.js"],"names":["getStaticProps","findTasks","MongoClient","connect","client","db","taskCollection","collection","find","toArray","tasks","close","props","map","task","title","priority","start_date","complete","id","_id","toString","revalidate"],"mappings":";;AAEA,gBAAsBA,cAAtB;AAAA;AAAA;;;6EAAO,iBAA8BC,SAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAEkBC,WAAW,CAACC,OAAZ,CAAoB,8FAApB,CAFlB;;AAAA;AAEGC,YAAAA,MAFH;AAGGC,YAAAA,EAHH,GAGQD,MAAM,CAACC,EAAP,EAHR;AAKGC,YAAAA,cALH,GAKoBD,EAAE,CAACE,UAAH,CAAc,OAAd,CALpB;AAAA;AAAA,mBAOiBD,cAAc,CAACE,IAAf,CAAoBP,SAApB,EAA+BQ,OAA/B,EAPjB;;AAAA;AAOGC,YAAAA,KAPH;AASHN,YAAAA,MAAM,CAACO,KAAP;AATG,6CAWI;AACLC,cAAAA,KAAK,EAAE;AACLF,gBAAAA,KAAK,EAAEA,KAAK,CAACG,GAAN,CAAU,UAACC,IAAD;AAAA,yBAAW;AAC1BC,oBAAAA,KAAK,EAAED,IAAI,CAACC,KADc;AAE1BC,oBAAAA,QAAQ,EAAEF,IAAI,CAACE,QAFW;AAG1BC,oBAAAA,UAAU,EAAEH,IAAI,CAACG,UAAL,IAAmB,IAHL;AAI1BC,oBAAAA,QAAQ,EAAEJ,IAAI,CAACI,QAAL,IAAiB,IAJD;AAK1BC,oBAAAA,EAAE,EAAEL,IAAI,CAACM,GAAL,CAASC,QAAT;AALsB,mBAAX;AAAA,iBAAV;AADF,eADF;AAULC,cAAAA,UAAU,EAAE;AAVP,aAXJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["\r\n\r\nexport async function getStaticProps(findTasks) {\r\n    \r\n    const client = await MongoClient.connect('mongodb+srv://motylek:marta1999@cluster0.3tna7.mongodb.net/tasks?retryWrites=true&w=majority');\r\n    const db = client.db();\r\n  \r\n    const taskCollection = db.collection('tasks');\r\n\r\n    const tasks = await taskCollection.find(findTasks).toArray();\r\n  \r\n    client.close()\r\n  \r\n    return {\r\n      props: {\r\n        tasks: tasks.map((task) => ({\r\n          title: task.title,\r\n          priority: task.priority,\r\n          start_date: task.start_date || null,\r\n          complete: task.complete || null,\r\n          id: task._id.toString(),\r\n        })),\r\n      }, \r\n      revalidate: 1\r\n    }\r\n  \r\n  }\r\n"]},"metadata":{},"sourceType":"module"}